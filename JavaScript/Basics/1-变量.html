<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>East_White</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/East_White_Blog/East_White_logo.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/East_White_Blog/assets/css/0.styles.0a965f69.css" as="style"><link rel="preload" href="/East_White_Blog/assets/js/app.a1300c9c.js" as="script"><link rel="preload" href="/East_White_Blog/assets/js/2.ef38e2d3.js" as="script"><link rel="preload" href="/East_White_Blog/assets/js/35.faaf50bc.js" as="script"><link rel="prefetch" href="/East_White_Blog/assets/js/10.b9bc2630.js"><link rel="prefetch" href="/East_White_Blog/assets/js/11.c32c545c.js"><link rel="prefetch" href="/East_White_Blog/assets/js/12.740266d4.js"><link rel="prefetch" href="/East_White_Blog/assets/js/13.6ff7a29f.js"><link rel="prefetch" href="/East_White_Blog/assets/js/14.53978d41.js"><link rel="prefetch" href="/East_White_Blog/assets/js/15.cb058040.js"><link rel="prefetch" href="/East_White_Blog/assets/js/16.01bfe115.js"><link rel="prefetch" href="/East_White_Blog/assets/js/17.3fc19230.js"><link rel="prefetch" href="/East_White_Blog/assets/js/18.493b51a9.js"><link rel="prefetch" href="/East_White_Blog/assets/js/19.5b3aef44.js"><link rel="prefetch" href="/East_White_Blog/assets/js/20.45c20627.js"><link rel="prefetch" href="/East_White_Blog/assets/js/21.c996fae5.js"><link rel="prefetch" href="/East_White_Blog/assets/js/22.180bea3a.js"><link rel="prefetch" href="/East_White_Blog/assets/js/23.9e41777a.js"><link rel="prefetch" href="/East_White_Blog/assets/js/24.35ce3605.js"><link rel="prefetch" href="/East_White_Blog/assets/js/25.dcab2f08.js"><link rel="prefetch" href="/East_White_Blog/assets/js/26.97cdc5af.js"><link rel="prefetch" href="/East_White_Blog/assets/js/27.c8cc562d.js"><link rel="prefetch" href="/East_White_Blog/assets/js/28.aaaf00f6.js"><link rel="prefetch" href="/East_White_Blog/assets/js/29.581f2c38.js"><link rel="prefetch" href="/East_White_Blog/assets/js/3.24646260.js"><link rel="prefetch" href="/East_White_Blog/assets/js/30.2b24803d.js"><link rel="prefetch" href="/East_White_Blog/assets/js/31.5f29459f.js"><link rel="prefetch" href="/East_White_Blog/assets/js/32.272da78c.js"><link rel="prefetch" href="/East_White_Blog/assets/js/33.62ca086d.js"><link rel="prefetch" href="/East_White_Blog/assets/js/34.a86e18a0.js"><link rel="prefetch" href="/East_White_Blog/assets/js/36.9847e54f.js"><link rel="prefetch" href="/East_White_Blog/assets/js/37.c7497d76.js"><link rel="prefetch" href="/East_White_Blog/assets/js/38.2dce6a49.js"><link rel="prefetch" href="/East_White_Blog/assets/js/39.e24146cf.js"><link rel="prefetch" href="/East_White_Blog/assets/js/4.1d6ef5fb.js"><link rel="prefetch" href="/East_White_Blog/assets/js/40.0ce89524.js"><link rel="prefetch" href="/East_White_Blog/assets/js/41.5ed7b2a3.js"><link rel="prefetch" href="/East_White_Blog/assets/js/42.67cd5d5d.js"><link rel="prefetch" href="/East_White_Blog/assets/js/43.58e511c3.js"><link rel="prefetch" href="/East_White_Blog/assets/js/44.d57e811b.js"><link rel="prefetch" href="/East_White_Blog/assets/js/45.4a83e35f.js"><link rel="prefetch" href="/East_White_Blog/assets/js/46.9ce6ca26.js"><link rel="prefetch" href="/East_White_Blog/assets/js/47.e3288957.js"><link rel="prefetch" href="/East_White_Blog/assets/js/48.1d0e9cba.js"><link rel="prefetch" href="/East_White_Blog/assets/js/49.f5547fd7.js"><link rel="prefetch" href="/East_White_Blog/assets/js/5.59eb5480.js"><link rel="prefetch" href="/East_White_Blog/assets/js/50.cd4de65d.js"><link rel="prefetch" href="/East_White_Blog/assets/js/51.7aff749f.js"><link rel="prefetch" href="/East_White_Blog/assets/js/52.ab09f214.js"><link rel="prefetch" href="/East_White_Blog/assets/js/53.bf43628a.js"><link rel="prefetch" href="/East_White_Blog/assets/js/54.e4da628e.js"><link rel="prefetch" href="/East_White_Blog/assets/js/55.4cfe5625.js"><link rel="prefetch" href="/East_White_Blog/assets/js/56.c33a7b39.js"><link rel="prefetch" href="/East_White_Blog/assets/js/57.39f83ae5.js"><link rel="prefetch" href="/East_White_Blog/assets/js/58.3e26ee7d.js"><link rel="prefetch" href="/East_White_Blog/assets/js/59.06dd2325.js"><link rel="prefetch" href="/East_White_Blog/assets/js/6.b00d925a.js"><link rel="prefetch" href="/East_White_Blog/assets/js/60.5e2b70be.js"><link rel="prefetch" href="/East_White_Blog/assets/js/61.4345413c.js"><link rel="prefetch" href="/East_White_Blog/assets/js/62.2e50a466.js"><link rel="prefetch" href="/East_White_Blog/assets/js/63.881f57e8.js"><link rel="prefetch" href="/East_White_Blog/assets/js/64.b4eb4d60.js"><link rel="prefetch" href="/East_White_Blog/assets/js/65.08f2be17.js"><link rel="prefetch" href="/East_White_Blog/assets/js/66.3471281c.js"><link rel="prefetch" href="/East_White_Blog/assets/js/7.d6455729.js"><link rel="prefetch" href="/East_White_Blog/assets/js/8.30d35bfe.js"><link rel="prefetch" href="/East_White_Blog/assets/js/9.08ed7f79.js">
    <link rel="stylesheet" href="/East_White_Blog/assets/css/0.styles.0a965f69.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/East_White_Blog/" class="home-link router-link-active"><img src="/East_White_Blog/East_White_logo.png" alt="East_White" class="logo"> <span class="site-name can-hide">East_White</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/East_White_Blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HTML&amp;CSS" class="dropdown-title"><span class="title">HTML&amp;CSS</span> <span class="arrow down"></span></button> <button type="button" aria-label="HTML&amp;CSS" class="mobile-dropdown-title"><span class="title">HTML&amp;CSS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/Html_Css/Html/" class="nav-link">
  Html
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/Html_Css/Css/" class="nav-link">
  Css
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/JavaScript/Basics/" class="nav-link router-link-active">
  JavaScript基础
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/JavaScript/Advanced/" class="nav-link">
  JavaScript进阶
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/JavaScript/Canvas/" class="nav-link">
  Canvas
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="TypeScript" class="dropdown-title"><span class="title">TypeScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="TypeScript" class="mobile-dropdown-title"><span class="title">TypeScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/TypeScript/Basics/" class="nav-link">
  TypeScript基础
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/TypeScript/Advanced/" class="nav-link">
  TypeScript进阶
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/React/Basics/" class="nav-link">
  React基础
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/React/Advanced/" class="nav-link">
  React进阶
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/React/Hooks/" class="nav-link">
  React Hooks
</a></li></ul></div></div><div class="nav-item"><a href="/East_White_Blog/Webpack/" class="nav-link">
  Webpack
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Flutter" class="dropdown-title"><span class="title">Flutter</span> <span class="arrow down"></span></button> <button type="button" aria-label="Flutter" class="mobile-dropdown-title"><span class="title">Flutter</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/Flutter/Dart/" class="nav-link">
  Dart
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/Flutter/Widgets/" class="nav-link">
  Flutter Widgets
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/Flutter/UI_Challenge/" class="nav-link">
  UI挑战
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构与算法" class="dropdown-title"><span class="title">数据结构与算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据结构与算法" class="mobile-dropdown-title"><span class="title">数据结构与算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/Data_Algorithm/Data_Structure/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/Data_Algorithm/Algorithm/" class="nav-link">
  算法
</a></li></ul></div></div><div class="nav-item"><a href="/East_White_Blog/Interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="https://github.com/ian-kevin126" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/East_White_Blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HTML&amp;CSS" class="dropdown-title"><span class="title">HTML&amp;CSS</span> <span class="arrow down"></span></button> <button type="button" aria-label="HTML&amp;CSS" class="mobile-dropdown-title"><span class="title">HTML&amp;CSS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/Html_Css/Html/" class="nav-link">
  Html
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/Html_Css/Css/" class="nav-link">
  Css
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/JavaScript/Basics/" class="nav-link router-link-active">
  JavaScript基础
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/JavaScript/Advanced/" class="nav-link">
  JavaScript进阶
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/JavaScript/Canvas/" class="nav-link">
  Canvas
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="TypeScript" class="dropdown-title"><span class="title">TypeScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="TypeScript" class="mobile-dropdown-title"><span class="title">TypeScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/TypeScript/Basics/" class="nav-link">
  TypeScript基础
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/TypeScript/Advanced/" class="nav-link">
  TypeScript进阶
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/React/Basics/" class="nav-link">
  React基础
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/React/Advanced/" class="nav-link">
  React进阶
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/React/Hooks/" class="nav-link">
  React Hooks
</a></li></ul></div></div><div class="nav-item"><a href="/East_White_Blog/Webpack/" class="nav-link">
  Webpack
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Flutter" class="dropdown-title"><span class="title">Flutter</span> <span class="arrow down"></span></button> <button type="button" aria-label="Flutter" class="mobile-dropdown-title"><span class="title">Flutter</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/Flutter/Dart/" class="nav-link">
  Dart
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/Flutter/Widgets/" class="nav-link">
  Flutter Widgets
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/Flutter/UI_Challenge/" class="nav-link">
  UI挑战
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构与算法" class="dropdown-title"><span class="title">数据结构与算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据结构与算法" class="mobile-dropdown-title"><span class="title">数据结构与算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/Data_Algorithm/Data_Structure/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/Data_Algorithm/Algorithm/" class="nav-link">
  算法
</a></li></ul></div></div><div class="nav-item"><a href="/East_White_Blog/Interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="https://github.com/ian-kevin126" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/East_White_Blog/JavaScript/Basics/1-变量.html" class="active sidebar-link">1.变量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/1-变量.html#var" class="sidebar-link">var</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/1-变量.html#_1-var-声明作用域" class="sidebar-link">1.var 声明作用域</a></li><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/1-变量.html#_2-var-声明提升" class="sidebar-link">2.var 声明提升</a></li><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/1-变量.html#_3-函数形参中的隐性var声明" class="sidebar-link">3.函数形参中的隐性var声明</a></li><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/1-变量.html#_4-重难点" class="sidebar-link">4.重难点</a></li><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/1-变量.html#_5-var声明变量的缺点" class="sidebar-link">5.var声明变量的缺点</a></li></ul></li><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/1-变量.html#let" class="sidebar-link">let</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/1-变量.html#_1-let声明的特点" class="sidebar-link">1.let声明的特点</a></li><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/1-变量.html#_2、for循环中的let声明" class="sidebar-link">2、for循环中的let声明</a></li></ul></li><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/1-变量.html#const" class="sidebar-link">const</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/1-变量.html#_1-必须初始化且不可修改" class="sidebar-link">1.必须初始化且不可修改</a></li><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/1-变量.html#_2-复杂类型中的const" class="sidebar-link">2.复杂类型中的const</a></li><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/1-变量.html#_3-for循环中的const" class="sidebar-link">3.for循环中的const</a></li></ul></li><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/1-变量.html#声明风格及最佳实践" class="sidebar-link">声明风格及最佳实践</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/1-变量.html#_1-不使用var" class="sidebar-link">1. 不使用var</a></li><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/1-变量.html#_2-const优先-let次之" class="sidebar-link">2.const优先，let次之</a></li><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/1-变量.html#_3-关于声明提升" class="sidebar-link">3.关于声明提升</a></li></ul></li></ul></li><li><a href="/East_White_Blog/JavaScript/Basics/2-数据类型.html" class="sidebar-link">2.数据类型</a></li><li><a href="/East_White_Blog/JavaScript/Basics/33-JS最佳实践.html" class="sidebar-link">33.JS最佳实践</a></li><li><a href="/East_White_Blog/JavaScript/Basics/35-JS严格模式.html" class="sidebar-link">35.JS严格模式</a></li><li><a href="/East_White_Blog/JavaScript/Basics/36-JS框架、库和工具.html" class="sidebar-link">35.JS框架·库·工具</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p><code>ECMAScript</code> 变量是松散类型的，意思是变量可以用于保存任何类型的数据。每个变量只不过是一个用于保存任意值的命名占位符。有 3 个关键字可以声明变量：<code>var</code>、<code>const</code> 和 <code>let</code>。其中，<code>var</code> 在<code>ECMAScript</code>的所有版本中都可以使用，而<code>const</code>和 <code>let</code> 只能在<code>ECMAScript 6</code>及更晚的版本中使用。</p> <ul><li><code>var</code>定义变量，没有块的概念，可以跨块访问，不能跨函数访问，不初始化出现<code>undefined</code>，不会报错。</li> <li><code>let</code>定义变量，只能在块作用域里访问，也不能跨函数访问，对函数外部无影响。</li> <li><code>const</code>定义常量，只能在块作用域里访问，也不能跨函数访问，使用时必须初始化（即必须赋值），而且不能修改。</li></ul> <h2 id="var"><a href="#var" class="header-anchor">#</a> var</h2> <p>  使用<code>var</code>定义变量，可以用它保存任何类型的值，不初始化的情况下，变量会保存一个特殊值<code>undefined</code>。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> message<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// undefined</span>
<span class="token keyword">var</span> msg <span class="token operator">=</span> <span class="token string">'hi'</span><span class="token punctuation">;</span>
msg <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">// 合法，但不推荐</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'100'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> a<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '100'</span>
</code></pre></div><h3 id="_1-var-声明作用域"><a href="#_1-var-声明作用域" class="header-anchor">#</a> 1.<code>var</code> 声明作用域</h3> <p>  关键的问题在于，使用 <code>var</code> 操作符定义的变量会成为包含它的函数的局部变量。比如，使用 <code>var</code> 在一个函数内部定义一个变量，就意味着该变量将在函数退出时被销毁：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token string">&quot;hi&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 局部变量</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 出错！ </span>
</code></pre></div><p>  这里，<code>message</code> 变量是在函数内部使用 <code>var</code> 定义的。函数叫 <code>test()</code>，调用它会创建这个变量并给它赋值。调用之后变量随即被销毁，因此示例中的最后一行会导致错误。不过，在函数内定义变量时省略 <code>var</code> 操作符，可以创建一个全局变量：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  message <span class="token operator">=</span> <span class="token string">&quot;hi&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 全局变量</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;hi&quot;</span>
</code></pre></div><blockquote><p>注意：虽然可以通过省略 <code>var</code> 操作符定义全局变量，但不推荐这么做。在局部作用域中定
义的全局变量很难维护，也会造成困惑。这是因为不能一下子断定省略 <code>var</code> 是不是有意而
为之。在严格模式下，如果像这样给未声明的变量赋值，则会导致抛出 <code>ReferenceError</code>。</p></blockquote> <h3 id="_2-var-声明提升"><a href="#_2-var-声明提升" class="header-anchor">#</a> 2.<code>var</code> 声明提升</h3> <p>  使用 <code>var</code> 时，下面的代码不会报错。这是因为使用这个关键字声明的变量会自动提升到函数作用域顶部：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined </span>
</code></pre></div><p>  之所以不会报错，是因为 <code>ECMAScript</code> 运行时把它看成等价于如下代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> age<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
  age <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre></div><p>  这就是所谓的“提升”（<code>hoist</code>），也就是把所有变量声明都拉到函数作用域的顶部。此外，反复多次使用 <code>var</code> 声明同一个变量也没有问题：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">36</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 36 </span>
</code></pre></div><h3 id="_3-函数形参中的隐性var声明"><a href="#_3-函数形参中的隐性var声明" class="header-anchor">#</a> 3.函数形参中的隐性<code>var</code>声明</h3> <p>  在有参数函数的定义中：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">abc</span><span class="token punctuation">(</span><span class="token parameter">p1</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span> 
<span class="token function">abc</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>  在函数执行中，先构建、再执行两个步骤，所以说当函数执行之前构建过程中，将临时生成代码</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><p>  将来一切不赋值的声明将变得没有意义。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> p1<span class="token punctuation">;</span> <span class="token comment">// 没有意义</span>
<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// 有意义。</span>
</code></pre></div><h3 id="_4-重难点"><a href="#_4-重难点" class="header-anchor">#</a> 4.重难点</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>c <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> c<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined 3</span>
</code></pre></div><p>  在<code>for</code>循环中<code>var</code>也存在变量提升</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0 1 2</span>
<span class="token punctuation">}</span>
i <span class="token operator">+=</span> <span class="token number">100</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 103  在for循环中，var i = 0使得i变为全局变量，for循环之外依然可以访问到变量i</span>
</code></pre></div><h3 id="_5-var声明变量的缺点"><a href="#_5-var声明变量的缺点" class="header-anchor">#</a> 5.<code>var</code>声明变量的缺点</h3> <p>  我们来看这个例子：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> greeter <span class="token operator">=</span> <span class="token string">&quot;hey hi&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> times <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>times <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">var</span> greeter <span class="token operator">=</span> <span class="token string">&quot;say Hello instead&quot;</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>greeter<span class="token punctuation">)</span> <span class="token comment">// &quot;say Hello instead&quot;</span>
</code></pre></div><p>  当我们在做一个比较复杂的页面时，可能没有意识到已经在前面定义了一个<code>greeter</code>变量，导致因为在<code>if</code>语句中的操作，意外改变了它，造成了很难捕捉的<code>bug</code>。这个时候该<code>let</code>和<code>const</code>出山了。</p> <h2 id="let"><a href="#let" class="header-anchor">#</a> <code>let</code></h2> <h3 id="_1-let声明的特点"><a href="#_1-let声明的特点" class="header-anchor">#</a> 1.<code>let</code>声明的特点</h3> <h4 id="_1-1-let声明的变量不会被挂载到window对象上"><a href="#_1-1-let声明的变量不会被挂载到window对象上" class="header-anchor">#</a> 1.1 <code>let</code>声明的变量不会被挂载到window对象上</h4> <p>  与 <code>var</code> 关键字不同，使用 <code>let</code> 在全局作用域中声明的变量不会成为 <code>window</code> 对象的属性（<code>var</code> 声明的变量则会）。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'Matt'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'Matt'</span>
<span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre></div><p>  不过，<code>let</code> 声明仍然是在全局作用域中发生的，相应变量会在页面的生命周期内存续。因此，为了 避免 <code>SyntaxError</code>，必须确保页面不会重复声明同一个变量。</p> <h4 id="_1-2-块级作用域"><a href="#_1-2-块级作用域" class="header-anchor">#</a> 1.2 块级作用域</h4> <p><code>let</code> 跟 <code>var</code> 的作用差不多，但有着非常重要的区别。最明显的区别是，<code>let</code> 声明的范围是块作用域，而 <code>var</code> 声明的范围是函数作用域。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'Matt'</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Matt</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Matt </span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 26</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError: age 没有定义</span>
<span class="token comment">// let的神奇之处</span>
<span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> 
  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
a <span class="token comment">// ReferenceError: a is not defined. 表面`let`声明的变量只有在它所在的代码块才有效</span>
b <span class="token comment">// 1 </span>
</code></pre></div><p>  回到我们刚才那个例子，由于块级作用域的出现，杜绝了子作用域污染父级作用域的问题：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> greeting <span class="token operator">=</span> <span class="token string">&quot;say Hi&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> times <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>times <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">let</span> hello <span class="token operator">=</span> <span class="token string">&quot;say Hello instead&quot;</span><span class="token punctuation">;</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hello<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// &quot;say Hello instead&quot;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hello<span class="token punctuation">)</span> <span class="token comment">// hello is not defined</span>
</code></pre></div><h4 id="_1-3-let-不允许在同一作用域重复声明同一个变量"><a href="#_1-3-let-不允许在同一作用域重复声明同一个变量" class="header-anchor">#</a> 1.3 <code>let</code> 不允许在同一作用域重复声明同一个变量</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> name<span class="token punctuation">;</span>
<span class="token keyword">var</span> name<span class="token punctuation">;</span>
<span class="token keyword">let</span> age<span class="token punctuation">;</span>
<span class="token keyword">let</span> age<span class="token punctuation">;</span> <span class="token comment">// SyntaxError；标识符 age 已经声明过了</span>
</code></pre></div><p>  对声明冗余报错不会因混用 <code>let</code> 和 <code>var</code> 而受影响。这两个关键字声明的并不是不同类型的变量，它们只是指出变量在相关作用域如何存在。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> name<span class="token punctuation">;</span>
<span class="token keyword">let</span> name<span class="token punctuation">;</span> <span class="token comment">// SyntaxError</span>
<span class="token keyword">let</span> age<span class="token punctuation">;</span>
<span class="token keyword">var</span> age<span class="token punctuation">;</span> <span class="token comment">// SyntaxError</span>
</code></pre></div><h4 id="_1-4-暂时性死区"><a href="#_1-4-暂时性死区" class="header-anchor">#</a> <strong>1.4 暂时性死区</strong></h4> <p><code>let</code> 与 <code>var</code> 的另一个重要的区别，就是 <code>let</code> 声明的变量不会在作用域中被提升。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// name 会被提升</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'Matt'</span><span class="token punctuation">;</span>
<span class="token comment">// age 不会被提升</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError：age 没有定义</span>
<span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// TDZ开始</span>
  tmp <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError Cannot access 'tmp' before initialization</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError Cannot access 'tmp' before initialization</span>
  <span class="token keyword">let</span> tmp<span class="token punctuation">;</span>    <span class="token comment">// TDZ结束 </span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
  tmp <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123 </span>
<span class="token punctuation">}</span>
</code></pre></div><p>  在解析代码时，<code>JavaScript</code> 引擎也会注意出现在块后面的 <code>let</code> 声明，只不过在此之前不能以任何方式来引用未声明的变量。在 <code>let</code> 声明之前的执行瞬间被称为“暂时性死区”（temporal dead zone），在此阶段引用任何后面才声明的变量都会抛出 <code>ReferenceError</code>。
  上面的代码中，在 <code>let</code> 声明变量 <code>tmp</code> 之前，都属于变量 <code>tmp</code> 的“死区”，“暂时性死区”也意味着 <code>typeof</code> 不再是一个百分之百安全的操作。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">typeof</span> x<span class="token punctuation">;</span> <span class="token comment">// ReferenceError </span>
<span class="token keyword">let</span> x<span class="token punctuation">;</span>
<span class="token comment">// 作为比较，如果一个从未声明的变量，使用typeof反而不会报错</span>
<span class="token keyword">typeof</span> undeclared_variable <span class="token comment">// &quot;undefined&quot;</span>
</code></pre></div><p>  有些“暂时性死区”比较隐蔽，不太容易被发现：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">=</span> y<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">2</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错: Cannot access 'y' before initialization</span>
<span class="token comment">// 之所以报错，是因为参数 x 默认值等于另一个参数y，而此时y还没有声明，属于“死区”，如果y的值是x，就不会报错，因为此时已经声明了x了。</span>
<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">=</span> x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [2, 2]</span>
</code></pre></div><h4 id="_1-5-声明提升"><a href="#_1-5-声明提升" class="header-anchor">#</a> 1.5 声明提升</h4> <p>  与<code>var</code>声明变量类似，<code>let</code>和<code>const</code>声明也会被提升至作用域顶部，不同的是，<code>var</code>声明的变量会被初始化为<code>undefined</code>，而<code>let</code>和<code>const</code>声明的变量则不会被初始化，强行调用它们会得到一个<code>Reference Error</code>。</p> <h4 id="_1-6-条件声明"><a href="#_1-6-条件声明" class="header-anchor">#</a> 1.6 条件声明</h4> <p>  在使用 <code>var</code> 声明变量时，由于声明会被提升，<code>JavaScript</code> 引擎会自动将多余的声明在作用域顶部合并为一个声明。因为 <code>let</code> 的作用域是块，所以不可能检查前面是否已经使用 <code>let</code> 声明过同名变量，同时也就不可能在没有声明的情况下声明它。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
  var name = 'Nicholas';
  let age = 26;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
  // 假设脚本不确定页面中是否已经声明了同名变量
  // 那它可以假设还没有声明过
  var name = 'Matt';
  // 这里没问题，因为可以被作为一个提升声明来处理
  // 不需要检查之前是否声明过同名变量
  let age = 36;
  // 如果 age 之前声明过，这里会报错
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> 
</code></pre></div><p>  使用 <code>try/catch</code> 语句或 <code>typeof</code> 操作符也不能解决，因为条件块中 <code>let</code> 声明的作用域仅限于该块。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
  let name = 'Nicholas';
  let age = 36;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
  // 假设脚本不确定页面中是否已经声明了同名变量
  // 那它可以假设还没有声明过
  if (typeof name === 'undefined') {
    let name;
  }
  // name 被限制在 if {} 块的作用域内
  // 因此这个赋值形同全局赋值
  name = 'Matt';
  try {
    console.log(age); // 如果 age 没有声明过，则会报错
  } catch(error) {
    let age; 
  }
  // age 被限制在 catch {}块的作用域内
  // 因此这个赋值形同全局赋值
  age = 26;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> 
</code></pre></div><p>  为此，对于 <code>let</code> 这个新的 <code>ES6</code>声明关键字，不能依赖条件声明模式。</p> <blockquote><p>注意：不能使用 <code>let</code> 进行条件式声明是件好事，因为条件声明是一种反模式，它让程序变
得更难理解。如果你发现自己在使用这个模式，那一定有更好的替代方式。</p></blockquote> <h3 id="_2、for循环中的let声明"><a href="#_2、for循环中的let声明" class="header-anchor">#</a> 2、for循环中的<code>let</code>声明</h3> <p><code>let</code> 出现之前，<code>for</code> 循环定义的迭代变量会渗透到循环体外部：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 循环逻辑</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5  </span>
</code></pre></div><p>  改成使用 <code>let</code> 之后，这个问题就消失了，因为迭代变量的作用域仅限于 <code>for</code>循环块内部：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 循环逻辑</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError: i 没有定义 </span>
</code></pre></div><p>  在使用 <code>var</code> 的时候，最常见的问题就是对迭代变量的奇特声明和修改：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 实际上会输出 5、5、5、5、5  </span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 会输出 0、1、2、3、4 </span>
</code></pre></div><p>  之所以会这样，是因为 i 在全局范围内都有效，在<code>setTimeout</code>函数中没有找到i的定义，所以在全局里才能找到变量i。在for循环执行完之后，<code>event loop</code>中的，<code>setTimeout</code>中的匿名函数开始执行，这个时候的全局i其实已经是5了，所以全部打印出了5。
  而在使用 <code>let</code> 声明迭代变量时，<code>JavaScript</code> 引擎在后台会为每个迭代循环声明一个新的迭代变量。每个 <code>setTimeout</code> 引用的都是不同的变量实例，<code>let</code>有块级作用域的概念，且值得注意的是<code>for</code>循环头部的<code>let</code>声明有一个特殊的行为，这个行为指出变量在循环过程中不止被声明一次,每次迭代都会被声明。随后的每个迭代都会使用上一个迭代结束时的值来初始化这个变量。这使得我们的j，每次执行其实都是块级作用域中的不同的一个变量，自然就不是最终的5了。</p> <p>  当然，我们以前也可以用闭包（自执行函数）来实现：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">j</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'第'</span> <span class="token operator">+</span> j <span class="token operator">+</span> <span class="token string">'次'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>这种每次迭代声明一个独立变量实例的行为适用于所有风格的 <code>for</code> 循环，包括 <code>for-in</code> 和 <code>for-of</code>循环。</p></blockquote> <h2 id="const"><a href="#const" class="header-anchor">#</a> <code>const</code></h2> <h3 id="_1-必须初始化且不可修改"><a href="#_1-必须初始化且不可修改" class="header-anchor">#</a> 1.必须初始化且不可修改</h3> <p><code>const</code> 的行为与 <code>let</code> 基本相同，唯一一个重要的区别是用它声明变量时必须同时初始化变量，且尝试修改 <code>const</code> 声明的变量会导致运行时错误。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> foo<span class="token punctuation">;</span> <span class="token comment">// SyntaxError: Missing initializer in const declaration</span>
<span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span>
age <span class="token operator">=</span> <span class="token number">36</span><span class="token punctuation">;</span> <span class="token comment">// TypeError: Assignment to constant variable.</span>
<span class="token comment">// const 也不允许重复声明</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'Matt'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'Nicholas'</span><span class="token punctuation">;</span> <span class="token comment">// SyntaxError</span>
<span class="token comment">// const 声明的作用域也是块</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'Matt'</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'Nicholas'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Matt </span>
</code></pre></div><h3 id="_2-复杂类型中的const"><a href="#_2-复杂类型中的const" class="header-anchor">#</a> 2.复杂类型中的<code>const</code></h3> <p><code>const</code> 声明的限制只适用于它指向的变量的引用。换句话说，如果 <code>const</code> 变量引用的是一个对象，那么修改这个对象内部的属性并不违反 <code>const</code> 的限制。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// </span>
person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Matt'</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span>
</code></pre></div><p><code>person</code>存储的是一个地址，这个地址指向一个对象，不可变的是这个地址，即不能将<code>person</code>再指向另一个地址。但可以对其属性值做增删改查。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 可执行 </span>
a<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 可执行 </span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Dave'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
</code></pre></div><p>  上面的代码中，常量 <code>a</code> 是一个数组，这个数组本身是可写的，但是如果将另一个数组赋值给 <code>a</code>，就会报错。如果真的想将对象冻结，应该使用 <code>Object.freeze</code> 方法：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 常规模式时，下面一行不起作用; </span>
<span class="token comment">// 严格模式时，该行会报错 </span>
foo<span class="token punctuation">.</span>prop <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
</code></pre></div><p>  上面代码中，常量<code>foo</code>指向一个冻结的对象，所以添加新属性不起作用，严格模式时还会报错。 除了将对象本身冻结，对象的属性也应该冻结。下面是一个将对象彻底冻结的函数。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">constantize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                <span class="token function">constantize</span><span class="token punctuation">(</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-for循环中的const"><a href="#_3-for循环中的const" class="header-anchor">#</a> 3.for循环中的<code>const</code></h3> <p><code>JavaScript</code> 引擎会为 <code>for</code> 循环中的 <code>let</code> 声明分别创建独立的变量实例，虽然 <code>const</code> 变量跟 <code>let</code> 变量很相似，但是不能用 <code>const</code> 来声明迭代变量（因为迭代变量会自增）：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span> <span class="token comment">// TypeError：给常量赋值</span>
</code></pre></div><p>  不过，如果你只想用 <code>const</code> 声明一个不会被修改的 <code>for</code> 循环变量，那也是可以的。也就是说，每次迭代只是创建一个新变量。这对 <code>for-of</code> 和 <code>for-in</code>循环特别有意义：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> j <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 7, 7, 7, 7, 7</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> <span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// a, b</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> value <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 1, 2, 3, 4, 5 </span>
</code></pre></div><h2 id="声明风格及最佳实践"><a href="#声明风格及最佳实践" class="header-anchor">#</a> 声明风格及最佳实践</h2> <p><code>ECMAScript 6</code> 增加 <code>let</code> 和 <code>const</code> 从客观上为这门语言更精确地声明作用域和语义提供了更好的支持。行为怪异的 <code>var</code> 所造成的各种问题，已经让 <code>JavaScript</code> 社区为之苦恼了很多年。随着这两个新关键字的出现，新的有助于提升代码质量的最佳实践也逐渐显现。</p> <h3 id="_1-不使用var"><a href="#_1-不使用var" class="header-anchor">#</a> 1. 不使用<code>var</code></h3> <p>  有了 <code>let</code> 和 <code>const</code>，大多数开发者会发现自己不再需要 <code>var</code> 了。限制自己只使用 <code>let</code> 和 <code>const</code> 有助于提升代码质量，因为变量有了明确的作用域、声明位置，以及不变的值。</p> <h3 id="_2-const优先-let次之"><a href="#_2-const优先-let次之" class="header-anchor">#</a> 2.<code>const</code>优先，<code>let</code>次之</h3> <p>  使用 <code>const</code> 声明可以让浏览器运行时强制保持变量不变，也可以让静态代码分析工具提前发现不合法的赋值操作。因此，很多开发者认为应该优先使用 <code>const</code> 来声明变量，只在提前知道未来会有修改时，再使用 <code>let</code>。这样可以让开发者更有信心地推断某些变量的值永远不会变，同时也能迅速发现因意外赋值导致的非预期行为。</p> <h3 id="_3-关于声明提升"><a href="#_3-关于声明提升" class="header-anchor">#</a> 3.关于声明提升</h3> <p><code>ES5</code>只有两种声明变量的方法:<code>var</code>命令和<code>function</code>命令。ES6除了添加<code>let</code>和<code>const</code>命令，后面还会提到，另外两种声明变量的方法:<code>import</code>命令和<code>class</code>命令。所以，<code>ES6</code>一共有6种声明变量的方法。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/East_White_Blog/JavaScript/Basics/2-数据类型.html">
        2.数据类型
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/East_White_Blog/assets/js/app.a1300c9c.js" defer></script><script src="/East_White_Blog/assets/js/2.ef38e2d3.js" defer></script><script src="/East_White_Blog/assets/js/35.faaf50bc.js" defer></script>
  </body>
</html>
