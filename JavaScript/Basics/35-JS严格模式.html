<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>East_White</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/East_White_Blog/East_White_logo.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/East_White_Blog/assets/css/0.styles.0a965f69.css" as="style"><link rel="preload" href="/East_White_Blog/assets/js/app.a1300c9c.js" as="script"><link rel="preload" href="/East_White_Blog/assets/js/2.ef38e2d3.js" as="script"><link rel="preload" href="/East_White_Blog/assets/js/38.2dce6a49.js" as="script"><link rel="prefetch" href="/East_White_Blog/assets/js/10.b9bc2630.js"><link rel="prefetch" href="/East_White_Blog/assets/js/11.c32c545c.js"><link rel="prefetch" href="/East_White_Blog/assets/js/12.740266d4.js"><link rel="prefetch" href="/East_White_Blog/assets/js/13.6ff7a29f.js"><link rel="prefetch" href="/East_White_Blog/assets/js/14.53978d41.js"><link rel="prefetch" href="/East_White_Blog/assets/js/15.cb058040.js"><link rel="prefetch" href="/East_White_Blog/assets/js/16.01bfe115.js"><link rel="prefetch" href="/East_White_Blog/assets/js/17.3fc19230.js"><link rel="prefetch" href="/East_White_Blog/assets/js/18.493b51a9.js"><link rel="prefetch" href="/East_White_Blog/assets/js/19.5b3aef44.js"><link rel="prefetch" href="/East_White_Blog/assets/js/20.45c20627.js"><link rel="prefetch" href="/East_White_Blog/assets/js/21.c996fae5.js"><link rel="prefetch" href="/East_White_Blog/assets/js/22.180bea3a.js"><link rel="prefetch" href="/East_White_Blog/assets/js/23.9e41777a.js"><link rel="prefetch" href="/East_White_Blog/assets/js/24.35ce3605.js"><link rel="prefetch" href="/East_White_Blog/assets/js/25.dcab2f08.js"><link rel="prefetch" href="/East_White_Blog/assets/js/26.97cdc5af.js"><link rel="prefetch" href="/East_White_Blog/assets/js/27.c8cc562d.js"><link rel="prefetch" href="/East_White_Blog/assets/js/28.aaaf00f6.js"><link rel="prefetch" href="/East_White_Blog/assets/js/29.581f2c38.js"><link rel="prefetch" href="/East_White_Blog/assets/js/3.24646260.js"><link rel="prefetch" href="/East_White_Blog/assets/js/30.2b24803d.js"><link rel="prefetch" href="/East_White_Blog/assets/js/31.5f29459f.js"><link rel="prefetch" href="/East_White_Blog/assets/js/32.272da78c.js"><link rel="prefetch" href="/East_White_Blog/assets/js/33.62ca086d.js"><link rel="prefetch" href="/East_White_Blog/assets/js/34.a86e18a0.js"><link rel="prefetch" href="/East_White_Blog/assets/js/35.faaf50bc.js"><link rel="prefetch" href="/East_White_Blog/assets/js/36.9847e54f.js"><link rel="prefetch" href="/East_White_Blog/assets/js/37.c7497d76.js"><link rel="prefetch" href="/East_White_Blog/assets/js/39.e24146cf.js"><link rel="prefetch" href="/East_White_Blog/assets/js/4.1d6ef5fb.js"><link rel="prefetch" href="/East_White_Blog/assets/js/40.0ce89524.js"><link rel="prefetch" href="/East_White_Blog/assets/js/41.5ed7b2a3.js"><link rel="prefetch" href="/East_White_Blog/assets/js/42.67cd5d5d.js"><link rel="prefetch" href="/East_White_Blog/assets/js/43.58e511c3.js"><link rel="prefetch" href="/East_White_Blog/assets/js/44.d57e811b.js"><link rel="prefetch" href="/East_White_Blog/assets/js/45.4a83e35f.js"><link rel="prefetch" href="/East_White_Blog/assets/js/46.9ce6ca26.js"><link rel="prefetch" href="/East_White_Blog/assets/js/47.e3288957.js"><link rel="prefetch" href="/East_White_Blog/assets/js/48.1d0e9cba.js"><link rel="prefetch" href="/East_White_Blog/assets/js/49.f5547fd7.js"><link rel="prefetch" href="/East_White_Blog/assets/js/5.59eb5480.js"><link rel="prefetch" href="/East_White_Blog/assets/js/50.cd4de65d.js"><link rel="prefetch" href="/East_White_Blog/assets/js/51.7aff749f.js"><link rel="prefetch" href="/East_White_Blog/assets/js/52.ab09f214.js"><link rel="prefetch" href="/East_White_Blog/assets/js/53.bf43628a.js"><link rel="prefetch" href="/East_White_Blog/assets/js/54.e4da628e.js"><link rel="prefetch" href="/East_White_Blog/assets/js/55.4cfe5625.js"><link rel="prefetch" href="/East_White_Blog/assets/js/56.c33a7b39.js"><link rel="prefetch" href="/East_White_Blog/assets/js/57.39f83ae5.js"><link rel="prefetch" href="/East_White_Blog/assets/js/58.3e26ee7d.js"><link rel="prefetch" href="/East_White_Blog/assets/js/59.06dd2325.js"><link rel="prefetch" href="/East_White_Blog/assets/js/6.b00d925a.js"><link rel="prefetch" href="/East_White_Blog/assets/js/60.5e2b70be.js"><link rel="prefetch" href="/East_White_Blog/assets/js/61.4345413c.js"><link rel="prefetch" href="/East_White_Blog/assets/js/62.2e50a466.js"><link rel="prefetch" href="/East_White_Blog/assets/js/63.881f57e8.js"><link rel="prefetch" href="/East_White_Blog/assets/js/64.b4eb4d60.js"><link rel="prefetch" href="/East_White_Blog/assets/js/65.08f2be17.js"><link rel="prefetch" href="/East_White_Blog/assets/js/66.3471281c.js"><link rel="prefetch" href="/East_White_Blog/assets/js/7.d6455729.js"><link rel="prefetch" href="/East_White_Blog/assets/js/8.30d35bfe.js"><link rel="prefetch" href="/East_White_Blog/assets/js/9.08ed7f79.js">
    <link rel="stylesheet" href="/East_White_Blog/assets/css/0.styles.0a965f69.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/East_White_Blog/" class="home-link router-link-active"><img src="/East_White_Blog/East_White_logo.png" alt="East_White" class="logo"> <span class="site-name can-hide">East_White</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/East_White_Blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HTML&amp;CSS" class="dropdown-title"><span class="title">HTML&amp;CSS</span> <span class="arrow down"></span></button> <button type="button" aria-label="HTML&amp;CSS" class="mobile-dropdown-title"><span class="title">HTML&amp;CSS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/Html_Css/Html/" class="nav-link">
  Html
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/Html_Css/Css/" class="nav-link">
  Css
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/JavaScript/Basics/" class="nav-link router-link-active">
  JavaScript基础
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/JavaScript/Advanced/" class="nav-link">
  JavaScript进阶
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/JavaScript/Canvas/" class="nav-link">
  Canvas
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="TypeScript" class="dropdown-title"><span class="title">TypeScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="TypeScript" class="mobile-dropdown-title"><span class="title">TypeScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/TypeScript/Basics/" class="nav-link">
  TypeScript基础
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/TypeScript/Advanced/" class="nav-link">
  TypeScript进阶
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/React/Basics/" class="nav-link">
  React基础
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/React/Advanced/" class="nav-link">
  React进阶
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/React/Hooks/" class="nav-link">
  React Hooks
</a></li></ul></div></div><div class="nav-item"><a href="/East_White_Blog/Webpack/" class="nav-link">
  Webpack
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Flutter" class="dropdown-title"><span class="title">Flutter</span> <span class="arrow down"></span></button> <button type="button" aria-label="Flutter" class="mobile-dropdown-title"><span class="title">Flutter</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/Flutter/Dart/" class="nav-link">
  Dart
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/Flutter/Widgets/" class="nav-link">
  Flutter Widgets
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/Flutter/UI_Challenge/" class="nav-link">
  UI挑战
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构与算法" class="dropdown-title"><span class="title">数据结构与算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据结构与算法" class="mobile-dropdown-title"><span class="title">数据结构与算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/Data_Algorithm/Data_Structure/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/Data_Algorithm/Algorithm/" class="nav-link">
  算法
</a></li></ul></div></div><div class="nav-item"><a href="/East_White_Blog/Interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="https://github.com/ian-kevin126" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/East_White_Blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HTML&amp;CSS" class="dropdown-title"><span class="title">HTML&amp;CSS</span> <span class="arrow down"></span></button> <button type="button" aria-label="HTML&amp;CSS" class="mobile-dropdown-title"><span class="title">HTML&amp;CSS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/Html_Css/Html/" class="nav-link">
  Html
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/Html_Css/Css/" class="nav-link">
  Css
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/JavaScript/Basics/" class="nav-link router-link-active">
  JavaScript基础
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/JavaScript/Advanced/" class="nav-link">
  JavaScript进阶
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/JavaScript/Canvas/" class="nav-link">
  Canvas
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="TypeScript" class="dropdown-title"><span class="title">TypeScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="TypeScript" class="mobile-dropdown-title"><span class="title">TypeScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/TypeScript/Basics/" class="nav-link">
  TypeScript基础
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/TypeScript/Advanced/" class="nav-link">
  TypeScript进阶
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/React/Basics/" class="nav-link">
  React基础
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/React/Advanced/" class="nav-link">
  React进阶
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/React/Hooks/" class="nav-link">
  React Hooks
</a></li></ul></div></div><div class="nav-item"><a href="/East_White_Blog/Webpack/" class="nav-link">
  Webpack
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Flutter" class="dropdown-title"><span class="title">Flutter</span> <span class="arrow down"></span></button> <button type="button" aria-label="Flutter" class="mobile-dropdown-title"><span class="title">Flutter</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/Flutter/Dart/" class="nav-link">
  Dart
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/Flutter/Widgets/" class="nav-link">
  Flutter Widgets
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/Flutter/UI_Challenge/" class="nav-link">
  UI挑战
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构与算法" class="dropdown-title"><span class="title">数据结构与算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据结构与算法" class="mobile-dropdown-title"><span class="title">数据结构与算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/East_White_Blog/Data_Algorithm/Data_Structure/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/East_White_Blog/Data_Algorithm/Algorithm/" class="nav-link">
  算法
</a></li></ul></div></div><div class="nav-item"><a href="/East_White_Blog/Interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="https://github.com/ian-kevin126" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/East_White_Blog/JavaScript/Basics/1-变量.html" class="sidebar-link">1.变量</a></li><li><a href="/East_White_Blog/JavaScript/Basics/2-数据类型.html" class="sidebar-link">2.数据类型</a></li><li><a href="/East_White_Blog/JavaScript/Basics/33-JS最佳实践.html" class="sidebar-link">33.JS最佳实践</a></li><li><a href="/East_White_Blog/JavaScript/Basics/35-JS严格模式.html" class="active sidebar-link">35.JS严格模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/35-JS严格模式.html#_1-选择使用" class="sidebar-link">1 选择使用</a></li><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/35-JS严格模式.html#_2-变量" class="sidebar-link">2 变量</a></li><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/35-JS严格模式.html#_3-对象" class="sidebar-link">3 对象</a></li><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/35-JS严格模式.html#_4-函数" class="sidebar-link">4 函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/35-JS严格模式.html#_4-1-函数参数" class="sidebar-link">4.1 函数参数</a></li><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/35-JS严格模式.html#_4-2eval" class="sidebar-link">4.2eval()</a></li><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/35-JS严格模式.html#_4-3eval与arguments" class="sidebar-link">4.3eval与arguments</a></li></ul></li><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/35-JS严格模式.html#_5-this强制转型" class="sidebar-link">5 this强制转型</a></li><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/35-JS严格模式.html#_6-类与模块" class="sidebar-link">6 类与模块</a></li><li class="sidebar-sub-header"><a href="/East_White_Blog/JavaScript/Basics/35-JS严格模式.html#_7-其他变化" class="sidebar-link">7 其他变化</a></li></ul></li><li><a href="/East_White_Blog/JavaScript/Basics/36-JS框架、库和工具.html" class="sidebar-link">35.JS框架·库·工具</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>ECMAScript 5 首次引入严格模式的概念。严格模式用于选择以更严格的条件检查 JavaScript 代码错误，可以应用到全局，也可以应用到函数内部。严格模式的好处是可以提早发现错误，因此可以捕获某些 ECMAScript 问题导致的编程错误。</p> <p>理解严格模式的规则非常重要，因为未来的 ECMAScript 会逐步强制全局使用严格模式。严格模式已得到所有主流浏览器支持。</p> <h2 id="_1-选择使用"><a href="#_1-选择使用" class="header-anchor">#</a> 1 选择使用</h2> <p>要选择使用严格模式，需要使用严格模式编译指示（pragma），即一个不赋值给任何变量的字符串：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>  
</code></pre></div><p>这样一个即使在 ECMAScript 3 中也有效的字符串，可以兼容不支持严格模式的 JavaScript 引擎。支持严格模式的引擎会启用严格模式，而不支持的引擎则会将这个编译指示当成一个未赋值的字符串字面量。如果把这个编译指示应用到全局作用域，即函数外部，则整个脚本都会按照严格模式来解析。这意味着在最终会与其他脚本拼接为一个文件的脚本中添加了编译指示，会将该文件中的所有 JavaScript 置于严格模式之下。
也可以像下面这样只在一个函数内部开启严格模式：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// 其他代码</span>
<span class="token punctuation">}</span>  
</code></pre></div><p>如果你不能控制页面中的所有脚本，那么建议只在经过测试的特定函数中启用严格模式。</p> <h2 id="_2-变量"><a href="#_2-变量" class="header-anchor">#</a> 2 变量</h2> <p>严格模式下如何创建变量及何时会创建变量都会发生变化。第一个变化是不允许意外创建全局变量。在非严格模式下，以下代码可以创建全局变量：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 变量未声明</span>
<span class="token comment">// 非严格模式：创建全局变量</span>
<span class="token comment">// 严格模式：抛出 ReferenceError</span>
message <span class="token operator">=</span> <span class="token string">&quot;Hello world!&quot;</span><span class="token punctuation">;</span>  
</code></pre></div><p>虽然这里的 message 没有前置 let 关键字，也没有明确定义为全局对象的属性 ，但仍然会自动创建为全局变量。在严格模式下，给未声明的变量赋值会在执行代码时抛出ReferenceError。
相关的另一个变化是无法在变量上调用 delete。在非严格模式下允许这样，但可能会静默失败（返回 false）。在严格模式下，尝试删除变量会导致错误：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 删除变量</span>
<span class="token comment">// 非严格模式：静默失败</span>
<span class="token comment">// 严格模式：抛出 ReferenceError</span>
<span class="token keyword">let</span> color <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span> color<span class="token punctuation">;</span>  
</code></pre></div><p>严格模式也对变量名增加了限制。具体来说，不允许变量名为 implements、interface、let、package、private、protected、public、static 和 yield。这些是目前的保留字，可能在将来的 ECMAScript 版本中用到。如果在严格模式下使用这些名称作为变量名，则会导致语法错误。</p> <h2 id="_3-对象"><a href="#_3-对象" class="header-anchor">#</a> 3 对象</h2> <p>在严格模式下操作对象比在非严格模式下更容易抛出错误。严格模式倾向于在非严格模式下会静默失败的情况下抛出错误，增加了开发中提前发现错误的可能性。</p> <p>首先，以下几种情况下试图操纵对象属性会引发错误。</p> <ul><li>给只读属性赋值会抛出 TypeError。</li> <li>在不可配置属性上使用 delete 会抛出 TypeError。</li> <li>给不存在的对象添加属性会抛出 TypeError。</li></ul> <p>另外，与对象相关的限制也涉及通过对象字面量声明它们。在使用对象字面量时，属性名必须唯一。例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 两个属性重名</span>
<span class="token comment">// 非严格模式：没有错误，第二个属性生效</span>
<span class="token comment">// 严格模式：抛出 SyntaxError</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Nicholas&quot;</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Greg&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>  
</code></pre></div><p>这里的对象字面量 person 有两个叫作 name 的属性。第二个属性在非严格模式下是最终的属性。但在严格模式下，这样写是语法错误。</p> <blockquote><p>注意 ECMAScript 6 删除了对重名属性的这个限制，即在严格模式下重复的对象字面量属
性键不会抛出错误。</p></blockquote> <h2 id="_4-函数"><a href="#_4-函数" class="header-anchor">#</a> 4 函数</h2> <p>首先，严格模式要求命名函数参数必须唯一。看下面的例子：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 命名参数重名</span>
<span class="token comment">// 非严格模式：没有错误，只有第二个参数有效</span>
<span class="token comment">// 严格模式：抛出 SyntaxError</span>
<span class="token keyword">function</span> <span class="token function">sum</span> <span class="token punctuation">(</span><span class="token parameter">num<span class="token punctuation">,</span> num</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token comment">// 函数代码</span>
<span class="token punctuation">}</span>  
</code></pre></div><p>在非严格模式下，这个函数声明不会抛出错误。这样可以通过名称访问第二个 num，但只能通过 arguments 访问第一个参数。arguments 对象在严格模式下也有一些变化。在非严格模式下，修改命名参数也会修改 arguments 对象中的值。而在严格模式下，命名参数和 arguments 是相互独立的。例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 修改命名参数的值</span>
<span class="token comment">// 非严格模式：arguments 会反映变化</span>
<span class="token comment">// 严格模式：arguments 不会反映变化</span>
<span class="token keyword">function</span> <span class="token function">showValue</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  value <span class="token operator">=</span> <span class="token string">&quot;Foo&quot;</span><span class="token punctuation">;</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Foo&quot;</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 非严格模式：&quot;Foo&quot;</span>
  <span class="token comment">// 严格模式：&quot;Hi&quot;</span>
<span class="token punctuation">}</span>
<span class="token function">showValue</span><span class="token punctuation">(</span><span class="token string">&quot;Hi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre></div><p>在这个例子中，函数 showValue()有一个命名参数 value。调用这个函数时给它传入参数&quot;Hi&quot;，该值会赋给value。在函数内部，value被修改为&quot;Foo&quot;。在非严格模式下，这样也会修改arguments[0] 的值，但在严格模式下则不会。
另一个变化是去掉了 arguments.callee 和 arguments.caller。在非严格模式下，它们分别引用函数本身和调用函数。在严格模式下，访问这两个属性中的任何一个都会抛出 TypeError。例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 访问 arguments.callee</span>
<span class="token comment">// 非严格模式：没问题</span>
<span class="token comment">// 严格模式：抛出 TypeError</span>
<span class="token keyword">function</span> <span class="token function">factorial</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> num <span class="token operator">*</span> arguments<span class="token punctuation">.</span><span class="token function">callee</span><span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">factorial</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre></div><p>类似地，读或写函数的 caller 或 callee 属性也会抛出 TypeError。因此对这个例子而言，访问 factorial.caller 和 factorial.callee 也会抛出错误。
另外，与变量一样，严格模式也限制了函数的命名，不允许函数名为 implements、interface、let、package、private、protected、public、static 和 yield。</p> <p>关于函数的最后一个变化是不允许函数声明，除非它们位于脚本或函数的顶级。这意味着在 if 语句中声明的函数现在是个语法错误：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 在 if 语句中声明函数</span>
<span class="token comment">// 非严格模式：函数提升至 if 语句外部</span>
<span class="token comment">// 严格模式：抛出 SyntaxError</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>  
</code></pre></div><p>所有浏览器在非严格模式下都支持这个语法，但在严格模式下则会抛出语法错误。</p> <h3 id="_4-1-函数参数"><a href="#_4-1-函数参数" class="header-anchor">#</a> 4.1 函数参数</h3> <p>ES6 增加了剩余操作符、解构操作符和默认参数，为函数组织、结构和定义参数提供了强大的支持。ECMAScript 7 增加了一条限制，要求使用任何上述先进参数特性的函数内部都不能使用严格模式，否则888 附录 B 严格模式会抛出错误。不过，全局严格模式还是允许的。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 可以</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 不可以</span>
<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token string">'d'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 不可以</span>
<span class="token keyword">function</span> <span class="token function">baz</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 不可以</span>
<span class="token keyword">function</span> <span class="token function">qux</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token operator">...</span>c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>  
</code></pre></div><p>ES6 增加的这些新特性期待参数与函数体在相同模式下进行解析。如果允许编译指示&quot;use
strict&quot;出现在函数体内，JavaScript 解析器就需要在解析函数参数之前先检查函数体内是否存在这个编译指示，而这会带来很多问题。为此，ES7 规范增加了这个约定，目的是让解析器在解析函数之前就确切知道该使用什么模式。</p> <h3 id="_4-2eval"><a href="#_4-2eval" class="header-anchor">#</a> 4.2<strong>eval()</strong></h3> <p>eval()函数在严格模式下也有变化。最大的变化是 eval()不会再在包含上下文中创建变量或函数。例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 使用 eval()创建变量</span>
<span class="token comment">// 非严格模式：警告框显示 10</span>
<span class="token comment">// 严格模式：调用 alert(x)时抛出 ReferenceError</span>
<span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;let x = 10&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>  
</code></pre></div><p>以上代码在非严格模式下运行时，会在 doSomething()函数内部创建局部变量 x，然后 alert() 会显示这个变量的值。在严格模式下，调用 eval()不会在 doSomething()中创建变量 x，由于 x 没有声明，alert()会抛出 ReferenceError。
变量和函数可以在 eval()中声明，但它们会位于代码执行期间的一个特殊的作用域里，代码执行完毕就会销毁。因此，以下代码就不会出错：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;let x = 10, y = 11; x + y&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 21  </span>
</code></pre></div><p>这里在 eval()中声明了变量 x 和 y，将它们相加后返回得到的结果。变量 result 会包含 x 和 y 相加的结果 21，虽然 x 和 y 在调用 alert()时已经不存在了，但不影响结果的显示。</p> <h3 id="_4-3eval与arguments"><a href="#_4-3eval与arguments" class="header-anchor">#</a> 4.3<strong>eval</strong>与<strong>arguments</strong></h3> <p>严格模式明确不允许使用 eval 和 arguments 作为标识符和操作它们的值。例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 将 eval 和 arguments 重新定义为变量</span>
<span class="token comment">// 非严格模式：可以，没有错误</span>
<span class="token comment">// 严格模式：抛出 SyntaxError</span>
<span class="token keyword">let</span> eval <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arguments <span class="token operator">=</span> <span class="token string">&quot;Hello world!&quot;</span><span class="token punctuation">;</span>  
</code></pre></div><p>在非严格模式下，可以重写 eval 和 arguments。在严格模式下，这样会导致语法错误。不能用它们作为标识符，这意味着下面这些情况都会抛出语法错误：</p> <ul><li>使用 let 声明；</li> <li>赋予其他值；</li> <li>修改其包含的值，如使用++；</li> <li>用作函数名；</li> <li>用作函数参数名；</li> <li>在 try/catch 语句中用作异常名称。</li></ul> <h2 id="_5-this强制转型"><a href="#_5-this强制转型" class="header-anchor">#</a> 5 this强制转型</h2> <p>JavaScript 中最大的一个安全问题，也是最令人困惑的一个问题，就是在某些情况下 this 的值是如何确定的。使用函数的 apply()或 call()方法时，在非严格模式下 null 或 undefined 值会被强制转型为全局对象。在严格模式下，则始终以指定值作为函数 this 的值，无论指定的是什么值。例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 访问属性</span>
<span class="token comment">// 非严格模式：访问全局属性</span>
<span class="token comment">// 严格模式：抛出错误，因为 this 值为 null</span>
<span class="token keyword">let</span> color <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">displayColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">displayColor</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre></div><p>这里在调用 displayColor.call()时传入 null 作为 this 的值，在非严格模式下该函数的 this
值是全局对象。结果会显示&quot;red&quot;。在严格模式下，该函数的 this 值是 null，因此在访问 null 的属性时会抛出错误。</p> <p>通常，函数会将其 this 的值转型为一种对象类型，这种行为经常被称为“装箱”（boxing）。这意味着原始值会转型为它们的包装对象类型。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Window {}</span>
<span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Number {2}  </span>
</code></pre></div><p>在严格模式下执行以上代码时，this 的值不会再“装箱”：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token number">890</span> 附录 <span class="token constant">B</span> 严格模式
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
<span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2  </span>
</code></pre></div><h2 id="_6-类与模块"><a href="#_6-类与模块" class="header-anchor">#</a> 6 类与模块</h2> <p>类和模块都是 ECMAScript 6 新增的代码容器特性。在之前的 ECMAScript 版本中没有类和模块这两个概念，因此不用考虑从语法上兼容之前的 ECMAScript 版本。为此，TC39 委员会决定在 ES6 类和模块中定义的所有代码默认都处于严格模式。</p> <p>对于类，这包括类声明和类表达式，构造函数、实例方法、静态方法、获取方法和设置方法都在严格模式下。对于模块，所有在其内部定义的代码都处于严格模式。</p> <h2 id="_7-其他变化"><a href="#_7-其他变化" class="header-anchor">#</a> 7 其他变化</h2> <p>严格模式下还有其他一些需要注意的变化。首先是消除 with 语句。with 语句改变了标识符解析时的方式，严格模式下为简单起见已去掉了这个语法。在严格模式下使用 with 会导致语法错误：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 使用 with 语句</span>
<span class="token comment">// 非严格模式：允许</span>
<span class="token comment">// 严格模式：抛出 SyntaxError</span>
<span class="token keyword">with</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>href<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>  
</code></pre></div><p>严格模式也从 JavaScript 中去掉了八进制字面量。八进制字面量以前导 0 开始，一直以来是很多错误的源头。在严格模式下使用八进制字面量被认为是无效语法：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 使用八进制字面量</span>
<span class="token comment">// 非严格模式：值为 8</span>
<span class="token comment">// 严格模式：抛出 SyntaxError</span>
<span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token number">010</span><span class="token punctuation">;</span>  
</code></pre></div><p>ECMAScript 5修改了非严格模式下的parseInt()，将八进制字面量当作带前导0的十进制字面量。例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 在 parseInt()中使用八进制字面量</span>
<span class="token comment">// 非严格模式：值为 8</span>
<span class="token comment">// 严格模式：值为 10</span>
<span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">&quot;010&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/East_White_Blog/JavaScript/Basics/33-JS最佳实践.html" class="prev">
        33.JS最佳实践
      </a></span> <span class="next"><a href="/East_White_Blog/JavaScript/Basics/36-JS框架、库和工具.html">
        35.JS框架·库·工具
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/East_White_Blog/assets/js/app.a1300c9c.js" defer></script><script src="/East_White_Blog/assets/js/2.ef38e2d3.js" defer></script><script src="/East_White_Blog/assets/js/38.2dce6a49.js" defer></script>
  </body>
</html>
